import{y as d,j as e,z as f,r as s,b as y,D as S,R as v,G as r,S as u,T as t,L as m,C}from"./index-McFj74y0.js";import{A as L}from"./AuthWrapper-EAMXQ9gO.js";const k=d(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),z=d(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),D=()=>{const h=f().get("code"),[j,T]=s.useState(Date.now()),[b,n]=s.useState(!1),[p,a]=s.useState(!0),[g,o]=s.useState(!1),[i,c]=s.useState("");return y(),S(async()=>{n(!0);try{const l=await fetch("/api/users/code/verify?token="+h),x=JSON.parse(await l.text());l.ok?(a(!1),o(!0),c(x.message)):(a(!1),o(!1),c(x.message))}finally{n(!1)}},[j]),e.jsx(v.Fragment,{children:e.jsx(L,{children:e.jsxs(r,{container:!0,item:!0,xs:12,children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(u,{direction:"row",justifyContent:"center",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:e.jsx(t,{variant:"h3",children:"Email Verification"})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(u,{direction:"column",xs:12,justifyContent:"center",alignItems:"center",spacing:1,children:p?e.jsx(C,{size:64}):g?e.jsxs(e.Fragment,{children:[e.jsx(k,{sx:{fontSize:72},color:"success"}),e.jsx(t,{variant:"h6",children:i}),e.jsx(t,{component:m,to:"/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Login"})]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{sx:{fontSize:72},xs:12,color:"error"}),e.jsx(t,{variant:"h6",children:i}),e.jsx(t,{component:m,to:"/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Login"})]})})})]})})})};export{D as default};
